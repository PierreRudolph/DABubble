<div class="main-page">
  <app-side-menu (newItemEvent)="setOpen($event)" (newItemEventUser)="setOtherUser($event)"
    (newItemEventChanel)="setChannelNumber($event)" [user]="user" [userList]="userList" class="side-menu"
    [threadList]="threadList"></app-side-menu>
  <div class="main-content-div">
    <div *ngIf="talkOpen" class="direktMesHeader">
      <div style="position: relative;width:70px;">
        <img style="width:65px;height:auto;border-radius: 100%;" src="{{otherChatUser.iconPath}}">
        <div [class.greenDot]="otherChatUser.getAktive()" class="stateDot"></div>
      </div>
      <div class="nunitoBlack">{{otherChatUser.name}}</div>
    </div>
    <div style="padding-bottom: 30px;">
      <div *ngIf="!channelOpen">
        <app-private-message (newItemEventUserList)="setUserList($event)"
          (newItemEventLoggedUser)="setLoggedInUser($event)"></app-private-message>
      </div>
      <div *ngIf="channelOpen">Channel open is {{number}}
        <div *ngFor="let t of threadList[number].communikation;  index as i"
          style="display: flex;flex-direction: column;">
          <!-- {{t[0].date}} -->
         <div *ngFor="let t of threadList[number].communikation[i].threads;  index as j">
          {{threadDate(number,i)}}<br>
          {{threadData(number, i,i, 'name')}}<br>
          {{threadData(number, i,j, 'time')}}<br>
          {{threadData(number, i,j, 'message')}}
         </div>
          <div>

          </div>
          <textarea [(ngModel)]="textThread"></textarea>
          <button (click)="sendQuestion(number,i)"> senden</button>
        </div>
      </div>
    </div>
  </div>
  <app-side-menu-thread *ngIf="!openChat" class="side-menu"></app-side-menu-thread>
  <app-main-dialog-profil [user]="user"></app-main-dialog-profil>
</div>