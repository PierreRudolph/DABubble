<div class="direktMesHeader">
  <div style="position: relative;width:70px;">
    <img style="width:65px;height:auto;border-radius: 100%;" src="{{otherChatUser.iconPath}}">
    <div [class.greenDot]="otherChatUser.getAktive()" class="stateDot"></div>
  </div>
  <div class="nunitoBlack">{{otherChatUser.name}}<span *ngIf="isItMe()"> (DU)</span></div>
</div>

<div class="mainFieldDirektMessage" [class.mainFieldWithoutInfo]="exist">
  <div class="messageArea" *ngIf="talkOpen">
    <div style="margin:30px 20px 20px 20px" *ngFor="let c of this.currentTalkData.communikation,index as i">

      <div class="dateIcon">
        <div class="sendDate">{{c.date}}</div>
        <div style="width:100% ; height:2px;background-color: #ADB0D9;"></div>
      </div>

      <div style="margin:20px" *ngFor="let m of this.currentTalkData.communikation[i].messages; index as mIndex">
        <div class="message-div" [class.messageFlip]="getFlip(m)" [class.unHover]="m.edit">
          <img style="width: 70px;" src="{{getIconFromName(m.name)}}">
          <div class="message-inner-div">
            <div class="mes-name-clock" [class.popUpFlipContainer]="getFlip(m)">
              <span class="nunitoBlack">{{m.name}}</span>
              <span style="color:#b7bade">{{m.time}} Uhr</span>
            </div>
            <div [class.popUpFlipContainer]="getFlip(m)">
              <div class="message" [class.dNone]="m.edit">
                {{m.message}}
              </div>
            </div>
            <div [class.popUpFlipContainer]="getFlip(m)">
              <div style="display:flex;gap:5px; margin-top:10px">
                <div class="reactIcons" [class.lila]="smileHelper.isUserInSmile(sFace.users,user)"
                  *ngFor="let sFace of m.smile, index as sIndex" (click)="removeSmile(mIndex,sIndex)">
                  {{sFace.icon}}
                  {{sFace.users.length}}
                </div>
              </div>
            </div>
            <div [class.dNone]="!m.edit">
              <div style="position:relative">
                <textarea class="textAreaDirekt" [(ngModel)]="textEdit">{{m.message}}  </textarea>
                <img (click)="toggleEmojisDialogEdit()" class="smileEdit" src="assets/img/smile.svg">
                <emoji-mart class="emoji-div-Edit" *ngIf="showEmojisEdit" (emojiClick)="saveEmoji($event)"></emoji-mart>
              </div>

              <div class="editButtonContainer">
                <button class="btn buttonLight" (click)="closeEdit(m)">Abbrechen</button>
                <button class="btn butttonBlue" (click)="saveEdit(m)">Speichern</button>
              </div>
            </div>
          </div>
          <div class="popUpMessageContainer" [class.popUpMessageContainerFlip]="getFlip(m)">
            <div class="popUpMessage" [class.flipCorner]="getFlip(m)">

              <img class="popUpIcons pad0" (click)="toggleEmojisDialogComment(i,mIndex)"
                src="assets/icons/add-reaction.svg">

              <img class="popUpIcons" [class.dNone]="!getFlip(m)" (click)="openEditPopUp()"
                src="assets/img/more_vert.svg">
            </div>
            <div class="editMessage" [class.show]="openEditDialog" (click)="openEditWindow(m)">
              <div class="editMessageT">Nachricht bearbeiten</div>
            </div>
          </div>
          <emoji-mart class="emojiDivComment" *ngIf="isEmojisCommentShown(i,mIndex)" title="Pick your emoji…"
            (emojiClick)="saveEmojiComment($event)"></emoji-mart>
        </div>

      </div>

    </div>
  </div>

</div>

<div *ngIf="!exist" class="chatIconButtom">
  <img style="width:65px;height:auto;border-radius: 100%;" src="{{otherChatUser.iconPath}}">
  <div class="nunitoBlack">{{otherChatUser.name}} <span *ngIf="isItMe()"> (DU)</span></div>
</div>
<div *ngIf="!exist && talkOpen && !isItMe() " class="nunitoBlack fs20 wei400" style="padding-left: 45px; color:#686868">
  Diese
  Unterhaltung findet nur
  zwischen <span style="color:#535AF1;">@{{otherChatUser.name}}</span> und dir statt.
</div>
<div *ngIf="!exist && talkOpen && isItMe() " class="nunitoBlack fs20 wei400" style="padding-left: 45px; color:#686868">
  Diese
  <span style="font-weight: 700">Dieser Raum ist nur für dich da</span>. Mache dir Notizen, liste deine To-dos auf
  oder
  bewahre Links und Dateien griffbereit auf. Du kannst hier auch gerne Dinge mit dir selbst besprechen.
</div>

<div *ngIf="talkOpen" class="textareaDirektMessage">
  <textarea #textArea class="textAreaDirekt" [(ngModel)]="text"
    placeholder="Nachricht an {{otherChatUser.name}}"></textarea>
  <img class="sendArrow" (click)="saveMessage()" src="assets/img/sendArrow.svg">
  <div class="iconContainerTextArea">
    <img class="textAreaIconPlus" src="assets/img/plus-icon.svg">
    <div style="width:2px;background-color: #ADB0D9 ;"></div>
    <img class="textAreaIconSmiley" (click)="toggleEmojisDialog()" src="assets/img/smiley-icon.svg">
    <img class="textAreaIconEmail" src="assets/img/email-icon.svg">
    <emoji-mart class="emoji-div" *ngIf="showEmojis" title="Pick your emoji…"
      (emojiClick)="saveEmoji($event)"></emoji-mart>
    <!-- (emojiSelect)="addEmoji($event)" -->
  </div>
</div>